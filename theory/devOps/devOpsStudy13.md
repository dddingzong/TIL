## Day 13 - Architecting for Versatility

### 1. 주싯수에 빗대어 기술 아키텍처의 다용성 설명

- 리스크를 최대한 줄여야지 성공률이 높아진다. (태클 비유)
- 어떤 일을 시작하기 전에 모든 가능성을 고려해야한다.

→ 문제가 발생할 경우, 회복하고 다른 방안을 시도할 수 있다.

### 2. 단일 클라우드와 멀티 클라우드

**2-1. 현재 클라우드 환경의 배경**

- 퍼블릭 클라우드가 발전함에 따라 devOps의 인기 또한 상승했다. (과거)
- 과거에는 멀티 클라우드를 좋지 않다고 여겨지고 많은 서비스들이 단일 클라우드에서 성공적으로 성장했다.

**2-2. 단일 클라우드의 장점**

- 관리형 서비스(Managed Service)를 활용한 개발 속도 향상 Ex) AWS RDS, AWS Lambda
- 단일 자동화 및 모니터링 시스템을 통해 간편화
- 개발 및 구현 속도 향상
- 간단한 비용 관리 (contract, payments, private pricing agreements) → 클라우드 서비스에 관한 비용 관리
- 하나의 기술만을 사용하기에 딥다이브 할 수 있다

**2-3. 단일 클라우드의 단점**

- 기술(벤더) 종속으로 인한 경쟁력 약화

→ 특정 클라우드 업체의 기술에 너무 깊이 의존해서 다른 업체로 옮기기 어려워지는 상황

- 특정 지역에서의 가용성 문제 발생 가능
- 각 클라우드마다 환경 세팅을 진행해야한다.

**2-4. 멀티 클라우드의 단점**

- 서비스를 유지보수(자동화 및 모니터링)하기 위해서 너무 많은 전문성이 요구된다.
- 데이터 복제로 인한 공간 및 비용 낭비 (저장소, 송신비용)
- 기존 코드를 다른 환경에 맞춰서 다시 수정하는것은 쉽지않다. → 개발 속도 저하
- 백업 요구사항, 보존 수명 주기, 그리고 백업 테스트도 공급업체에 너무 의지하면 안된다.
- 이후 다른 환경으로 전환하거나 멀티 클라우드를 사용할지 모르기 떄문에, 처음부터 하나에 플랫폼에 매몰되어 유연성을 헤쳐서는 안된다.

### 3. 아키텍처의 유연성(**Versatility**) 확보

**3-1. 서비스 다양성**

- Redis, ElasticSearch, Kubernetes, Postgres같은 오픈소스 기반 관리형 서비스를 활용한다.
- AKS, EKS, GKE 모두 쿠버네티스 API를 사용한다. 하나에 매몰되기 보다는 표준화된 인터페이스로 진행하자

**3-2. 코드 다양성**

- 다양한 프로세서나 인스턴스 타입에서 실행 가능한 코드를 작성해야한다.
- 하나에 의존하는 코드는 최소한으로 하자

**3-3. 데이터 송신 비용 효율화**

- 데이터 송신 비용이 가정 저렴한 서비스를 이용해야한다.

**3-4. 클라우드 서비스의 모니터링 서비스 사용 자제**

- aws의 cloudwatch에 의존한다면 google cloud에서는 어떻게 모니터링을 진행할 건지 고려해야한다.
- 환경에 상관없이 일관적으로 데이터를 모니터링 할 수 있는 방안을 마련하자
- 모든 환경에서 통합된 보안 서비스를 진행하고, 클라우드 서비스에 특화된 보안 서비스 의존도를 줄여야한다.

### 4. 아키텍처 설계 단계에서의 고려사항

- 이런 모든 고려사항은 설계 단계에서 이루어져야한다.
- mvp 단계에서 모든 문제를 해결하려 하지 말자
- 일단 한 방향(클라우드)을 정하고 선택지 제한하지 않도록 하자
- 개발 및 배포 파이프라인 설계 시 이러한 점들이 매우 중요하다

### 5. Agility의 의미

- agility는 단순한 유행이 아니라 실질적인 품질을 나타낸다
- 항상 회복과 변화의 가능성을 남겨둬야한다.
- 하나의 솔루션에 과도하게 몰입하거나 문제를 미리 해결하려 하지 말자
- 유연한 자세를 항상 유지하자